---
slug: v0.2.9
title: 版本 0.2.9 更新说明
authors: johnny
tags: [version, update]
---

这个版本主要包含以下更新：

1. 修复了诗词平仄显示的问题
   - 统一了平仄数据的格式，使用 `toneData` 作为属性名
   - 每个字的平仄使用 `"ping"` 或 `"ze"` 表示
   - 使用自动化脚本生成准确的平仄数据

2. 完善了诗词注释
   - 为《水调歌头·明月几时有》添加了完整的字词注释和行注释
   - 为《如梦令·昨夜雨疏风骤》添加了完整的字词注释和行注释

3. 优化了自动化脚本
   - 改进了平仄生成的逻辑
   - 完善了注释数据库

<!-- truncate -->

## 平仄显示优化

在这个版本中，我们统一了平仄数据的格式：

```javascript
export const poemData = {
  // ...
  toneData: [
    ["ze", "ze", "ping", "ze", "ping"],
    ["ping", "ping", "ze", "ze", "ze"],
    // ...
  ]
}
```

每个字的平仄都由一个字符串表示，可以是 `"ping"` 或 `"ze"`。这种格式更加清晰和统一，便于前端组件处理和显示。

## 注释系统完善

我们为两首诗添加了完整的注释：

1. 字词注释：解释每个字的含义和用法
2. 行注释：解释每一行的整体含义
3. 词组注释：解释特定的词组，如"琼楼玉宇"、"绿肥红瘦"等

## 自动化改进

改进了自动化脚本的功能：

1. 平仄生成：根据拼音自动生成准确的平仄数据
2. 注释生成：从数据库中提取相关注释
3. 格式统一：确保生成的数据格式一致

## 下一步计划

1. 继续完善注释数据库
2. 优化前端显示效果
3. 添加更多诗词作品 